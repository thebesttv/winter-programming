---
title: '网络流 24 题'
date:  2018-02-18 20:00
tags:
  - 网络流
  - 网络流 24 题
---

# 01. 飞行员配对方案问题

这，恐怕都会吧。

# 02. 太空飞行计划问题

最大权闭合子图。

# 03. 最小路径覆盖问题

对于路径P，它上面除终点以外的任意点都有唯一后继，这就想到二分图。

建立一个二分图，建立 S->Xi 和 Yi->T 的所有边，容量为 1 。对于原图上的所有边 (u,v) ，建立 Xu->Yv ，容量为 1 。

一开始，原图中的每个点独自成边，那么一共有 $n$ 条边。而若连接点 u,v ，则减少了一条边，对应二分图中 Xu->Yv 的一个匹配。
可以发现，若二分图中有 $k$ 个匹配，则就有 $n-k$ 个路径。那么求出二分图的最大匹配 $k_{max}$，最小路径数即为 $n-k_{max}$ 。

# 04. 魔术球问题

先预处理，将能够相邻的两点 u,v (u < v) 连一条边。显然，生成了一个 DAG ，每个柱子对应 DAG 中的一条路径（长度可以为0）。

可以枚举答案 A ，每次仅查看 DAG 中 1~A 的点。当且仅当 A 中能够找出 n 条路径时 A 能够成立。
而最小路径覆盖显然是随着 A 递增的，而且通过打表可以发现它取遍 $[4,+\infty)$ 。那么答案即为最后一个能使得最小路径覆盖不小于 n 的 A 。在枚举时，即为使得最大路径覆盖 > n 的第一个 A 减去 1 。
输出方案时按照上一题的方法即可。

# 05. 圆桌问题

很简单的题目，从源点连到每个公司，容量为公司人数；从每个餐桌连到汇点，容量为餐桌人数；再所有公司和所有餐桌都连一条容量为 1 的边。跑最大流即可。

# 07. 试题库问题

很水的题目。

# 08. 机器人路径规划问题

表示一开始看错题意了，以为能够任意移动障碍物，结果就炸了……
不过听说这是一道“神题”，暂时弃了吧……

# 09. 方格取数问题

将矩阵黑白染色，答案即为二分图的最大独立集，可用权值和减去最小割求解。
因为任意一个割都满足了 X 不能到达 Y ，即任意 X 中的点都不能通过边到达 Y ，那么所有节点减去割就是一个可行解。而最小割排除的点权值和最小，为最优解。

# 10. 餐巾计划问题

表示并没有做出来……

每天，有“用了多少”和“剩下多少”两种属性。考虑使用类似于二分图的方式建模，令 Xi 表示第 i 天用了的，Yi 表示第 i 天需要的，那么
1. 从 S 向 Xi 连一条容量为 ri ，费用为 0 的边
2. 从 Yi 向 T 连一条容量为 ri ，费用为 0 的边
3. 从 S 向 Yi 连一条容量为正无穷，费用为 p 的边，表示每天购买的餐巾
4. 从 Xi 向 Xi+1 连一条容量为正无穷，费用为 0 的边，表示留到之后再洗的餐巾（只需连到 Xi+1 即可）
5. 从 Xi 向 Yi+m 连一条容量为正无穷，费用为 f 的边，表示块洗的餐巾
6. 从 Xi 向 Yi+n 连一条容量为正无穷，费用为 s 的边，表示慢洗的餐巾

然后跑最小费用最大流（MCMF）即可。

分析：
因为 Xi 表示用了的餐巾，只能有一条边流入，且只能流 ri 的流量，但它能够流出很多条边，那么就从 S 连向它。Yi 表示需要的餐巾，能有很多条边流向它，但它只能流出一条边，那么就从它连向 T 。而 MCMF 保证了 S->Xi，Yi->T 的每条边都满流，且费用最小，那么一定是最优解。

# 11. 航空路线问题

难度的话，还好吧。

把“从起点到终点再到起点”改成从起点到终点两条不相交的路径。
1. 将每个城市 i 拆成 Xi, Yi ，从 Xi 到 Yi 连一条费用为 -1 的边。除 X1->Y1 和 Xn->Yn 容量为 2 ，其他容量都为 1 ；
2. 连接 S->X1, Yn->T 两边，容量为 2 ，费用为 0 。
2. 对于路线 (u,v) ，先保证 u < v ，然后再添加 u->v 容量为正无穷，费用为 0 的边。

然后跑一遍 MCMF ，当且仅当流量为 2 时有解。

分析：
因为每个城市都只能访问一次，则通过拆点来限制流量。

# 12. 软件补丁问题

将每个状态作为一个节点，每个补丁则提供了节点间的状态转移，则问题转化为最短路问题。
就暂时不实现了……


